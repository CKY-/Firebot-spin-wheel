{"name":"SpinWheelWithEntry","description":"This illustrates how the spin wheel script can be used with an entry from bits and chat commands","version":1,"author":"Unknown","components":{"commands":[{"active":true,"simple":false,"sendCooldownMessage":true,"cooldownMessage":"This command is still on cooldown for: {timeLeft}","cooldown":{},"effects":{"id":"3fc7d802-de41-42a9-95f1-fd4874e3b6bf","list":[{"id":"9a191130-095c-11ef-9856-df086b6ecbad","type":"firebot:run-effect-list","active":true,"listType":"preset","presetListArgs":{"Amount":"$ensureNumber[$arg[1], 1]","Text":"$userDisplayName[$username]"},"effectList":{"list":[],"id":"9a1b5b20-095c-11ef-9856-df086b6ecbad"},"presetListId":"f1d01fb0-095a-11ef-9856-df086b6ecbad"},{"id":"8652fc20-096f-11ef-ad0b-f7cf493c8fb4","type":"firebot:run-effect-list","active":false,"listType":"preset","presetListArgs":{"Amount":"1","Text":"$userDisplayName[$username]"},"effectList":{"list":[],"id":"9a1b5b20-095c-11ef-9856-df086b6ecbad"},"presetListId":"f1d01fb0-095a-11ef-9856-df086b6ecbad"}]},"restrictionData":{"restrictions":[],"mode":"all","sendFailMessage":true,"failMessage":"Sorry @{user}, you cannot use this command because: {reason}"},"aliases":[],"sortTags":[],"treatQuotedTextAsSingleArg":false,"trigger":"!enter","id":"ea1cec60-095c-11ef-aff6-7583ce7f71ea","createdBy":"Streamer","createdAt":"2024-05-03T08:53:34.118-06:00","count":0,"type":"custom","lastEditBy":"Streamer","lastEditAt":"2024-05-03T11:07:28.324-06:00"}],"counters":[],"currencies":[],"effectQueues":[],"events":[],"eventGroups":[{"id":"072dfcb0-0951-11ef-9856-df086b6ecbad","name":"SpinWheelInital","active":true,"events":[{"name":"Firebot Started","active":true,"cached":true,"sortTags":[],"eventId":"firebot-started","sourceId":"firebot","effects":{"list":[{"id":"f892fc60-0954-11ef-9856-df086b6ecbad","type":"firebot:customvariable","active":true,"ttl":0,"name":"WheelOptions","variableData":"[]"}],"id":"34c71d00-0951-11ef-9856-df086b6ecbad"},"filterData":{"mode":"exclusive","filters":[]},"id":"778c4c30-0958-11ef-9856-df086b6ecbad"},{"name":"Cheer Enter","active":true,"cached":true,"sortTags":[],"eventId":"cheer","sourceId":"twitch","effects":{"list":[{"id":"fd768fc0-0964-11ef-9856-df086b6ecbad","type":"firebot:run-effect-list","active":true,"listType":"preset","presetListArgs":{"Amount":"$math[$cheerBitsAmount * 0.5]","Text":"$userDisplayName[$username]"},"effectList":{"list":[],"id":"fd788b90-0964-11ef-9856-df086b6ecbad"},"presetListId":"f1d01fb0-095a-11ef-9856-df086b6ecbad","dontWait":false,"bubbleOutputs":false}],"id":"f1ebb270-0964-11ef-9856-df086b6ecbad"},"filterData":{"mode":"exclusive","filters":[]},"id":"b35b80c0-0965-11ef-9856-df086b6ecbad"}]}],"hotkeys":[],"presetEffectLists":[{"name":"addOrUpdateTextWheelOptions","effects":{"list":[{"id":"0308ff90-095b-11ef-9856-df086b6ecbad","type":"firebot:customvariable","active":true,"ttl":0,"variableData":"$evalJs[``\nconst wheel = parameters[0];\nconst user = parameters[1];\nconst amount = Number(parameters[2]);\nlet isUserUpdated = false;\ntry{\nprojects = wheel.map(project => {\n    if (project.label == user) {\n         isUserUpdated = true;\n         project.weight =  project.weight + amount;\n         return project;\n    } else {\n        return project;\n    }\n});\n\nif (!isUserUpdated) {\n    projects.push({\"label\": user, \"weight\" : amount});\n}\n\nreturn projects;\n}\ncatch(error){\nconsole.log(\"evalerror\",error)\n return wheel\n}\n``,\n $$WheelOptions,\n $#Text,\n $#Amount]","name":"WheelOptions"}],"id":"f1d01fb1-095a-11ef-9856-df086b6ecbad"},"args":[{"name":"Amount"},{"name":"Text"}],"sortTags":[],"id":"f1d01fb0-095a-11ef-9856-df086b6ecbad"},{"name":"Spin","effects":{"list":[{"id":"d90aeae0-095b-11ef-9856-df086b6ecbad","type":"cky:spin-wheel","active":true,"EventData":{"props":{"items":[],"itemBackgroundColors":["#fbf8c4","#e4f1aa","#c0d26e","#ff7d7d"],"itemLabelColors":["#000"],"radius":0.89,"itemLabelFontSizeMax":500,"pointerAngle":90,"pixelRatio":0,"rotation":272,"isInteractive":true,"itemLabelBaselineOffset":0,"itemLabelRadius":0.92,"itemLabelRadiusMax":0.37,"itemLabelRotation":0,"itemLabelStrokeColor":"#fff","itemLabelFont":"Rubik","rotationSpeedMax":700,"rotationResistance":-31,"borderColor":"#000","lineWidth":0,"borderWidth":0,"itemLabelAlign":"right"},"duration":"2500"},"easingValue":0,"easingLabel":"default (easeSinOut)","fileOrList":"variable","imageType":"url","enterAnimation":"slideInLeft","exitAnimation":"fadeOut","inbetweenAnimation":"none","imageUrl":"https://github.com/CKY-/Firebot-spin-wheel/blob/main/images/wheel-1-overlay-2.png?raw=true","variable":"$customVariable[WheelOptions]","length":"30","duration":2600,"enterDuration":"5s"},{"id":"0a7fa240-095d-11ef-9856-df086b6ecbad","type":"firebot:customvariable","active":true,"ttl":0,"variableData":"[]","name":"WheelOptions"},{"id":"4add19e0-095c-11ef-9856-df086b6ecbad","type":"firebot:chat","active":true,"chatter":"Streamer","message":"$effectOutput[winningSlice] is the Winning outcome!!!!"},{"id":"6670bb80-095c-11ef-9856-df086b6ecbad","type":"firebot:log-message","active":true,"logLevel":"Error","logMessage":"$effectOutput[winningSlice] is the winning outcome!!!"}],"id":"cfbdc890-095b-11ef-9856-df086b6ecbad"},"args":[],"sortTags":[],"id":"cfbda180-095b-11ef-9856-df086b6ecbad"}],"timers":[],"viewerRoles":[],"quickActions":[]},"requireCurrency":false,"importQuestions":[]}